<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex"><meta name="built-on" content="2024-05-19T11:29:19.3695535"><title>Etherchannel, principy, funkce, použit&iacute; | Maturita</title><script type="application/json" id="virtual-toc-data">[{"id":"etherchannel","level":0,"title":"Etherchannel","anchor":"#etherchannel"},{"id":"konfigurace","level":0,"title":"Konfigurace","anchor":"#konfigurace"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b259/app.css" rel="stylesheet"><meta name="msapplication-TileColor" content="#000000"><link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="Etherchannel, principy, funkce, použit&iacute; | Maturita"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="Maturita Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation//20.24/etherchannel-principy-funkce-použití.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="Etherchannel, principy, funkce, použit&iacute; | Maturita"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation//20.24/etherchannel-principy-funkce-použití.html#webpage",
    "url": "writerside-documentation//20.24/etherchannel-principy-funkce-použití.html",
    "name": "Etherchannel, principy, funkce, použit&iacute; | Maturita",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/#website",
    "url": "writerside-documentation/",
    "name": "Maturita Help"
}</script><!-- End Schema.org --></head><body data-id="Etherchannel-principy-funkce-použití" data-main-title="Etherchannel, principy, funkce, použití" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="Questions.md|PSS"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Maturita 20.24 Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="Etherchannel-principy-funkce-použití" id="Etherchannel-principy-funkce-použití.md">Etherchannel, principy, funkce, použití</h1><section class="chapter"><h2 id="etherchannel" data-toc="etherchannel">Etherchannel</h2><p id="-auirrn_2">Dovoluje redundantni spoje mezi zarizenimi, ktere nebude blokovat STP protocol.</p><p id="-auirrn_3">Jedna se o port link agregaci vyuzivanou prevazne na switchych od znacky Cisco. Kazdy switch znacky Cisco by mel Etherchannel podporovat. Funguje na zpusobu shluknuti vice fyzickych portu do jedne logicke link. Poskytuje nam odolnost proti chybam, zvysuje prenos a samotnou rychlost prenosu, zajistuje redundanci mezi switchy, routery, servery</p><p id="-auirrn_4">Nejvetsim plusem ktery ether channel poskytuje bude bandwith. Za pouziti 8 aktivnich portu coz je tedy take maximum moznych pouzitych portu muzeme dosahnout prenosu 8000Mbit/s, 8Gbit/s nebo 80Gbit/s zalezi pouze na samotnych portech.</p><p id="-auirrn_5">Port channel se nazyva vysledny virtualni interface pote co ether channel nakonfigurujem.</p><p id="-auirrn_6">Etherchannel spojuje traffic na vsech volnych portech v channel. Porty jsou vybrany za pomoci Cisco proprietarniho algoritmu na zaklade source or destination MAC addresses, IP addresses or TCP and UDP port numbers. Tabulka ukazuje jak je 8 rozdeleno mezi 2 az 8 porty. 2,4 a 8 portu jsou vyvazene v prenosu na kazdem z portu v channel.</p><div class="table-wrapper"><table class="wide" id="-auirrn_7"><thead><tr class="ijRowHead" id="-auirrn_8"><th id="-auirrn_9"><p>Number of Ports</p><br><p> in the EtherChannel</p></th><th id="-auirrn_11"><p>Load Balancing</p><br><p> ratio between Ports</p></th></tr></thead><tbody><tr id="-auirrn_13"><td id="-auirrn_14"><p>8</p></td><td id="-auirrn_15"><p>1:1:1:1:1:1:1:1</p></td></tr><tr id="-auirrn_16"><td id="-auirrn_17"><p>7</p></td><td id="-auirrn_18"><p>2:1:1:1:1:1:1</p></td></tr><tr id="-auirrn_19"><td id="-auirrn_20"><p>6</p></td><td id="-auirrn_21"><p>2:2:1:1:1:1</p></td></tr><tr id="-auirrn_22"><td id="-auirrn_23"><p>5</p></td><td id="-auirrn_24"><p>2:2:2:1:1</p></td></tr><tr id="-auirrn_25"><td id="-auirrn_26"><p>4</p></td><td id="-auirrn_27"><p>2:2:2:2</p></td></tr><tr id="-auirrn_28"><td id="-auirrn_29"><p>3</p></td><td id="-auirrn_30"><p>3:3:2</p></td></tr><tr id="-auirrn_31"><td id="-auirrn_32"><p>2</p></td><td id="-auirrn_33"><p>4:4</p></td></tr></tbody></table></div><p id="-auirrn_34">Pokud jeden z porů vypaden (přestane fungovat) EtherChannel by měl automaticky předistribuovat na zbyl&eacute; linky (porty). Tento process zabere m&eacute;ně než jednou vteřinu a je transaprentn&iacute; aplikace nebo klientovy na druh&eacute; straně. Děl&aacute; to zněj velmi pružn&yacute; a ž&aacute;douc&iacute; protocol v kritick&yacute;ch apliakc&iacute; kde si v&yacute;padky nemůžeme dovolit.</p><p id="-auirrn_35">Nemůže shlukovat porty s rozd&iacute;lnou přenosovou rychlost&iacute; jako jsou Fast Ethernet a Gigabit Ethernet v jednom Ethernetchannelu. Nastaven&eacute; Ethernetchannel porty se mus&iacute; ve sv&eacute;m nastaven&iacute; shodovat na obou stran&aacute;ch pokud je na jedn&eacute; straně trunk na druh&eacute; straně mus&iacute; b&yacute;t tak&eacute; s stejnou nativn&iacute; vlanou. Nav&iacute;c v&scaron;echny porty mus&iacute; b&yacute;t nastaven&eacute; jako Layer 2 porty.</p><p id="-auirrn_36">LACP allows for up to 8 active and 8 standby links, whereas PAgP only allows for 8 active links. Stand by link se satne aktiv&iacute;m pokud nějak&yacute; z osmi odpadne.</p><p id="-auirrn_37">Vyuzivaji se dav protokoly pro nastaveni Ethernetchannelu</p><ul class="list _bullet" id="-auirrn_38"><li class="list__item" id="-auirrn_39"><p>PAgP (Port Aggregation Protocol) Cisco protocol</p></li><li class="list__item" id="-auirrn_40"><p>LACP (Link Aggregation Control Protocol) IEEE Ethernet standards</p></li></ul><section class="chapter"><h3 id="pagp" data-toc="pagp">PAgP</h3><p id="-auirrn_41">Pokud použ&iacute;v&aacute; tento protokol porty se domlouvaj&iacute;(vyjedn&aacute;vaj&iacute;) na Etherchannelu za pomoc&iacute; PAgP paketů. Pokud se porty na obou stran&aacute;ch domluv&iacute;, vytvoř&iacute; Etherchannel sekupen&iacute;m portů. I po vytvořen&iacute; Etherchannelu PAgP pakety jsou pos&iacute;l&aacute;ny každ&yacute;ch 30 vteřin, aby zkontrolovaly konzistenci konfigurace a vyře&scaron;il nastanete nedostatky nebo v&yacute;padky. Dopom&aacute;h&aacute; vytv&aacute;řet EtherChannel link pomoc&iacute; detekce konfigurace na obou stran&aacute;ch, aby se ujistil, že jsou kompatibiln&iacute; a že Etherchannel může vzniknout. Možnosti nastaveni:</p><ul class="list _bullet" id="-auirrn_42"><li class="list__item" id="-auirrn_43"><p>On: tento m&oacute;d nut&iacute; interface vytvořen&iacute; channelu i bez PAgP. Interface nakonfigurovan&yacute; v tomto m&oacute;du nevyměňuje PAgP pakety.</p></li><li class="list__item" id="-auirrn_44"><p>PAgP desirable: Tento m&oacute;d um&iacute;st&iacute; zař&iacute;zen&iacute; do aktivn&iacute;ho vyjedn&aacute;vac&iacute;ho stavu ve kter&eacute;m vyjedn&aacute;v&aacute; s ostatn&iacute;mi zař&iacute;zen&iacute;mi pos&iacute;l&aacute;n&iacute;m PAgP paketů</p></li><li class="list__item" id="-auirrn_45"><p>PAgP auto: Tento m&oacute;d um&iacute;st&iacute; zař&iacute;zen&iacute; do pasivn&iacute;ho vyjedn&aacute;vac&iacute;ho stavu ve kter&eacute; zař&iacute;zen&iacute; odpov&iacute;d&aacute; PAgP paketům kter&eacute; dostal ale s&aacute;m př&iacute;mo nevyjedn&aacute;v&aacute;. Nastaven&eacute; m&oacute;dy mus&iacute; odpov&iacute;dat na obou stran&aacute;ch. Aby vznikl Etherchannel jak je vidět v tabulce.</p></li></ul><div class="table-wrapper"><table class="wide" id="-auirrn_46"><thead><tr class="ijRowHead" id="-auirrn_47"><th id="-auirrn_48"><p>S1</p></th><th id="-auirrn_49"><p>S2</p></th><th id="-auirrn_50"><p>Channel Establishment</p></th></tr></thead><tbody><tr id="-auirrn_51"><td id="-auirrn_52"><p>On</p></td><td id="-auirrn_53"><p>On</p></td><td id="-auirrn_54"><p>Yes</p></td></tr><tr id="-auirrn_55"><td id="-auirrn_56"><p>On</p></td><td id="-auirrn_57"><p>Desirable/Auto</p></td><td id="-auirrn_58"><p>No</p></td></tr><tr id="-auirrn_59"><td id="-auirrn_60"><p>Desirable</p></td><td id="-auirrn_61"><p>Desirable</p></td><td id="-auirrn_62"><p>Yes</p></td></tr><tr id="-auirrn_63"><td id="-auirrn_64"><p>Desirable</p></td><td id="-auirrn_65"><p>Auto</p></td><td id="-auirrn_66"><p>Yes</p></td></tr><tr id="-auirrn_67"><td id="-auirrn_68"><p>Auto</p></td><td id="-auirrn_69"><p>Desirable</p></td><td id="-auirrn_70"><p>Yes</p></td></tr><tr id="-auirrn_71"><td id="-auirrn_72"><p>Auto</p></td><td id="-auirrn_73"><p>Auto</p></td><td id="-auirrn_74"><p>No</p></td></tr></tbody></table></div></section><section class="chapter"><h3 id="lacp" data-toc="lacp">LACP</h3><p id="-auirrn_75">Tento protokol dovoluje switchům se domlouvat za pomoc&iacute; LACP paketů. Funkcionalita je velmi podobn&aacute; předchoz&iacute;mu protokolu ale protokol může běžet i na jin&yacute;ch než Cisco zař&iacute;zen&iacute;ch. Cisco zař&iacute;zen&iacute; podporuje i tento protokol.</p><p id="-auirrn_76">LACP poskytuje stejn&eacute; vyjedn&aacute;vac&iacute; v&yacute;hody jako PAgP. LACP pom&aacute;h&aacute; vytvořit vytv&aacute;řet Etherchannel pomoc&iacute; zji&scaron;těn&iacute; konfigurace na obou stran&aacute;ch a pokud jsou kompatibiln&iacute; tak je Etherchannel vytvořen.</p><p id="-auirrn_77">Moznosti nastaveni:</p><ul class="list _bullet" id="-auirrn_78"><li class="list__item" id="-auirrn_79"><p>On: tento mod nuti interface k vytvoreni channelu i bez LACP. Pokud je interface nastaven v On modu nevymenuje LACP pakety.</p></li><li class="list__item" id="-auirrn_80"><p>LACP active: Tento mod umisti zarizeni do aktivniho vyjednavaciho stavu ve kterem vyjednava s ostatnimi zarizenimi posilanim LACP paketu.</p></li><li class="list__item" id="-auirrn_81"><p>LACP passive: Tento mod umisti zarizeni do pasivniho vyjednavaciho stavu ve ktere zarizeni odpovida LACP paketum ktere dostal ale sam primo nevyjednava</p></li></ul><p id="-auirrn_82">Nastavene mody musi odpovidat na obou stranach. Aby vznikl Etherchannel jak je videt v tabulce.</p><div class="table-wrapper"><table class="wide" id="-auirrn_83"><thead><tr class="ijRowHead" id="-auirrn_84"><th id="-auirrn_85"><p>S1</p></th><th id="-auirrn_86"><p>S2</p></th><th id="-auirrn_87"><p>Channel Establishment</p></th></tr></thead><tbody><tr id="-auirrn_88"><td id="-auirrn_89"><p>On</p></td><td id="-auirrn_90"><p>On</p></td><td id="-auirrn_91"><p>Yes</p></td></tr><tr id="-auirrn_92"><td id="-auirrn_93"><p>On</p></td><td id="-auirrn_94"><p>Active/Passive</p></td><td id="-auirrn_95"><p>No</p></td></tr><tr id="-auirrn_96"><td id="-auirrn_97"><p>Active</p></td><td id="-auirrn_98"><p>Active</p></td><td id="-auirrn_99"><p>Yes</p></td></tr><tr id="-auirrn_100"><td id="-auirrn_101"><p>Active</p></td><td id="-auirrn_102"><p>Passive</p></td><td id="-auirrn_103"><p>Yes</p></td></tr><tr id="-auirrn_104"><td id="-auirrn_105"><p>Passive</p></td><td id="-auirrn_106"><p>Active</p></td><td id="-auirrn_107"><p>Yes</p></td></tr><tr id="-auirrn_108"><td id="-auirrn_109"><p>Passive</p></td><td id="-auirrn_110"><p>Passive</p></td><td id="-auirrn_111"><p>No</p></td></tr></tbody></table></div></section></section><section class="chapter"><h2 id="konfigurace" data-toc="konfigurace">Konfigurace</h2><ul class="list _bullet" id="-auirrn_112"><li class="list__item" id="-auirrn_113"><p>EtherChannel support- All ethernet interfaces must support EtherChannel with no requirement that interfaces be physically contiguous</p></li><li class="list__item" id="-auirrn_114"><p>Speed and duplex - Configure all interfaces in an EtherChannel to operate at the same speed and in the same duplex mode.</p></li><li class="list__item" id="-auirrn_115"><p>VLAN match - all interfaces in the etherChannel bundle must be assigned to the same VLAN or be configured as a trunk</p></li><li class="list__item" id="-auirrn_116"><p>Range of VLANs - An EtherChannel supports the same allowed range of VLANs on all the interfaces in a trunking EtherChannel. If the allowed range of VLANs is not the same, the interfaces do not form an EtherChannel, even when they are set to&nbsp;auto&nbsp;or&nbsp;desirable&nbsp;mode.</p></li></ul><div class="code-block" data-lang="bash">
S1(config)# interface range FastEthernet 0/1 - 2
S1(config-if-range)# channel-group 1 mode active
Creating a port-channel interface Port-channel 1
S1(config-if-range)# exit
S1(config)# interface port-channel 1
S1(config-if)# switchport mode trunk
S1(config-if)# switchport trunk allowed vlan 1,2,20
</div><section class="chapter"><h3 id="troubleshooting" data-toc="troubleshooting">Troubleshooting</h3><ul class="list _bullet" id="-auirrn_118"><li class="list__item" id="-auirrn_119"><p><code class="code" id="-auirrn_120">show interfaces port-channel [number]</code></p></li><li class="list__item" id="-auirrn_121"><p><code class="code" id="-auirrn_122">show etherchannel summary</code></p></li><li class="list__item" id="-auirrn_123"><p><code class="code" id="-auirrn_124">show ethercahnnel port-channel</code></p></li><li class="list__item" id="-auirrn_125"><p><code class="code" id="-auirrn_126">show interfaces etherchannel</code></p></li></ul></section><section class="chapter"><h3 id="common-problems" data-toc="common-problems">Common problems</h3><ul class="list _bullet" id="-auirrn_127"><li class="list__item" id="-auirrn_128"><p>Assigned ports in the EtherChannel are not part of the same VLAN, or not configured as trunks. Ports with different native VLANs cannot form an EtherChannel.</p></li><li class="list__item" id="-auirrn_129"><p>Trunking was configured on some of the ports that make up the EtherChannel, but not all of them. It is not recommended that you configure trunking mode on individual ports that make up the EtherChannel. When configuring a trunk on an EtherCHannel, verify the trunking mode on the EtherChannel.</p></li><li class="list__item" id="-auirrn_130"><p>If the allowed range of VLANs is not the same, the ports do not form an EtherChannel even when PAgP is set to the auto or desirable mode.</p></li><li class="list__item" id="-auirrn_131"><p>The dynamic negotiation options for PAgP and LACP are not compatibly configured on both ends of the EtherChannel.</p></li></ul></section></section><div class="last-modified">Last modified: 19 May 2024</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="os-linux-tvorba-skriptů-práce-s-textovými-soubory-filtrace-regulární-výrazy.html" class="navigation-links__prev">OS Linux - Tvorba skriptů. Pr&aacute;ce s textov&yacute;mi soubory, filtrace, Regul&aacute;rn&iacute; v&yacute;razy.</a><a href="hsrp-principy-funkce-použití-konfigurace.html" class="navigation-links__next">HSRP, principy, funkce, použit&iacute;, konfigurace</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b259/app.js"></script></body></html>