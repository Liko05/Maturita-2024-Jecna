<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex"><meta name="built-on" content="2024-05-16T15:48:32.6862652"><title>DHCP6 - funkce, možnosti konfigurace (rozsahy IP adres, dle MAC adresy), použit&iacute; | Maturita</title><script type="application/json" id="virtual-toc-data">[{"id":"dhcpv6","level":0,"title":"DHCPv6","anchor":"#dhcpv6"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b259/app.css" rel="stylesheet"><meta name="msapplication-TileColor" content="#000000"><link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="DHCP6 - funkce, možnosti konfigurace (rozsahy IP adres, dle MAC adresy), použit&iacute; | Maturita"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="Maturita Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation//20.24/dhcp6-funkce-možnosti-konfigurace-rozsahy-ip-adres-dle-mac-adresy-použití.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="DHCP6 - funkce, možnosti konfigurace (rozsahy IP adres, dle MAC adresy), použit&iacute; | Maturita"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation//20.24/dhcp6-funkce-možnosti-konfigurace-rozsahy-ip-adres-dle-mac-adresy-použití.html#webpage",
    "url": "writerside-documentation//20.24/dhcp6-funkce-možnosti-konfigurace-rozsahy-ip-adres-dle-mac-adresy-použití.html",
    "name": "DHCP6 - funkce, možnosti konfigurace (rozsahy IP adres, dle MAC adresy), použit&iacute; | Maturita",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/#website",
    "url": "writerside-documentation/",
    "name": "Maturita Help"
}</script><!-- End Schema.org --></head><body data-id="DHCP6-funkce-možnosti-konfigurace-rozsahy-IP-adres-dle-MAC-adresy-použití" data-main-title="DHCP6 - funkce, možnosti konfigurace (rozsahy IP adres, dle MAC adresy), použití" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="Questions.md|PSS"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Maturita 20.24 Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="DHCP6-funkce-možnosti-konfigurace-rozsahy-IP-adres-dle-MAC-adresy-použití" id="DHCP6-funkce-možnosti-konfigurace-rozsahy-IP-adres-dle-MAC-adresy-použití.md">DHCP6 - funkce, možnosti konfigurace (rozsahy IP adres, dle MAC adresy), použití</h1><p id="knskv7_2">RA(Router Advertisement) message je pos&iacute;l&aacute;n každ&yacute;ch 200 vteřin.</p><p id="knskv7_3">RS (Router solicitation) pos&iacute;l&aacute; klient když ž&aacute;d&aacute; o RA. Tu pos&iacute;l&aacute; pokud je nastaven aby z&iacute;skal dynamicky v tu chv&iacute;li ji pos&iacute;l&aacute; na all-routers multicast address of ff02::</p><p id="knskv7_4">RA (Router Advertisement) pos&iacute;l&aacute; router s informacemi jak jsi nastavit adresu nebo si o ni zaž&aacute;dat.</p><section class="chapter"><h2 id="dhcpv6" data-toc="dhcpv6">DHCPv6</h2><p id="knskv7_5">IPv6 link-local adresa je automaticky vytvořen&aacute; hostem když se nabootuje a Etherent interface je aktivn&iacute;.</p><p id="knskv7_6">IPv6 GUA může b&yacute;t přiřazen dynamicky za použit&iacute; stateless nebo stateful způsobu. Stateless I stateful metody využ&iacute;vaj&iacute; ICMPv6 RA message aby dali informaci klientovy jak vytvořit nebo obdržet IPv6 adresu.</p><figure id="knskv7_7"><img alt="gua-assignment.png" src="images/gua-assignment.png" title="gua-assignment.png" width="632" height="422"></figure><section class="chapter"><h3 id="ra-flags" data-toc="ra-flags">RA Flags</h3><p id="knskv7_8">Rozhodnut&iacute; jak si klient nastav&iacute; IPv6 GUA z&aacute;vis&yacute; na nastaven&iacute; RA message. ICMPv6 RA message obsahuje tři flags pro rozpozn&aacute;n&iacute; možnost&iacute; nastaven&iacute; adresy.</p><ul class="list _bullet" id="knskv7_9"><li class="list__item" id="knskv7_10"><p>A flag - This is the address autoconfiguration flag. Use stateless address autoconfiguration (SLAAC) to create an IPv6 GUA.</p></li><li class="list__item" id="knskv7_11"><p>O flag - This is the Other Configuration flag. Other information is available from a stateless DHCPv6 server.</p></li><li class="list__item" id="knskv7_12"><p>M flag - This is the Managed Address Configuration flag. Use a stateful DHCPv6 server to obtain an IPv6 GUA. </p><figure id="knskv7_13"><img alt="flags-dhcpv6.png" src="images/flags-dhcpv6.png" title="flags-dhcpv6.png" width="563" height="413"></figure></li></ul></section><section class="chapter"><h3 id="slaac" data-toc="slaac">SLAAC</h3><p id="knskv7_14">Dovoluje hostům si vytv&aacute;řet vlastn&iacute; GUA IPv6 adresu bez potřeby DHCPv6 serveru. SLAAC využ&iacute;v&aacute; ICMPv6 RA message kter poskytuje adresov&aacute;n&iacute; a jin&eacute; potřebn&eacute; informace, kter&eacute; by norm&aacute;lně poskytoval DHCPv6 server. Poč&iacute;tač tak&eacute; může poslat RS message a vyž&aacute;dat si RA message od routeru.</p><p id="knskv7_15">SLAC může b&yacute;t samotn&yacute; nebo může fungovat i s DHCPv6</p></section><section class="chapter"><h3 id="generov-n-ip-adresy" data-toc="generov-n-ip-adresy">Generov&aacute;n&iacute; IP adresy</h3><p id="knskv7_16">Prvn&iacute; 64bitů adresy dostane klient za pomoci RA message od routeru (Jedn&aacute; se tedy o prefix). N&aacute;sleduj&iacute;c&iacute;ch 64 bitů tedy mus&iacute; b&yacute;t dogenerov&aacute;no na poč&iacute;tači. Za pomoc&iacute; jedn&eacute; z dvou metod:</p><ul class="list _bullet" id="knskv7_17"><li class="list__item" id="knskv7_18"><p>Random generated - 64 bitov&yacute; interface ID je generov&aacute;n clientov&yacute;m operačn&iacute;m syst&eacute;mem. Tuto metodu použ&iacute;vaj&iacute; např&iacute;klad Windows 10.</p></li><li class="list__item" id="knskv7_19"><p>EUI-64 - Klient vytvoř&iacute; Interface ID za pomoc&iacute; sv&eacute; 48 bitov&eacute; MAC adresy a host vlož&iacute; do prostřed hex &quot;FFFE&quot; a invertuje hodnotu sedm&eacute;ho bitu v interface ID. Nen&iacute; to ale &uacute;plně bezpečn&eacute; z důvodu sd&iacute;len&iacute; vlastn&iacute; MAC adresy.</p></li></ul><figure id="knskv7_20"><img alt="EUI-64.PNG" src="images/EUI-64.PNG" title="EUI-64.PNG" width="375" height="286"></figure></section><section class="chapter"><h3 id="dad-duplicate-address-detection" data-toc="dad-duplicate-address-detection">DAD (Duplicate Address Detection)</h3><p id="knskv7_21">Je ov&scaron;em potřeba ověřit že je možn&eacute; použ&iacute;vat nově vytvořenou IPv6 adresu. DAD proces se použ&iacute;v&aacute; pro uji&scaron;těn&iacute; že IPv6 GUA je unik&aacute;tn&iacute;.</p><p id="knskv7_22">Využ&iacute;v&aacute; ICMPv6. Klient po&scaron;le ICMPv6 NS (Neighbor solicitation) messages speci&aacute;lně zkonstruovanou multicast adresou... solicited-node multicast address. Tato adresa duplikuje posledn&iacute;ch 24 bitů IPv6 adresy klienta. Pokud ž&aacute;dn&eacute; dal&scaron;&iacute; zař&iacute;zen&iacute; neodpov&iacute; s NA (Neighbor advertisement) message pak je garantovan&eacute; že je adresa unik&aacute;tn&iacute; a klient ji může použ&iacute;vat. V opačn&eacute;m př&iacute;padě mus&iacute; operačn&iacute; system vytvořit nov&eacute; interface ID.</p><p id="knskv7_23">I když kvůli velk&eacute;mu množstv&iacute; kombinac&iacute; adresy by teoreticky nebylo potřeba DAD ICMPv6 message pos&iacute;lat stejně vět&scaron;ina zař&iacute;zen&iacute; ho pos&iacute;l&aacute; bez ohledu na to jestli si adresu vygenerovala sama nebo j&iacute; dostala od DHCPv6 serveru. Nav&iacute;c to doporučuje př&iacute;mo The Internet Engineering Task Force (IETF).</p></section><section class="chapter"><h3 id="dhcpv6-stateless-stateful" data-toc="dhcpv6-stateless-stateful">DHCPv6 stateless stateful</h3><ul class="list _bullet" id="knskv7_24"><li class="list__item" id="knskv7_25"><p>Stateless st&aacute;le využ&iacute;v&aacute; SLAAC ale někter&eacute; informace jsou dotažen&eacute; z DHCPv6 serveru.</p></li><li class="list__item" id="knskv7_26"><p>Stateful se obejde bez SLAAC.</p></li><li class="list__item" id="knskv7_27"><p>Server to client DHCPv6 messages use UDP destination port 546 while client to server DHCPv6 messages use UDP destination port 547</p></li><li class="list__item" id="knskv7_28"><p>The host sends and RS message </p><ul class="list _bullet" id="knskv7_29"><li class="list__item" id="knskv7_30"><p>Klient po&scaron;le RS message v&scaron;em IPv6 enabled routers.</p></li></ul></li><li class="list__item" id="knskv7_31"><p>The router responds with an RA message. </p><ul class="list _bullet" id="knskv7_32"><li class="list__item" id="knskv7_33"><p>Router obdrž&iacute; RS a odpov&iacute;d&aacute; s RA znač&iacute;c&iacute; že klient započal komunikaci s DHCPv6 serverem.</p></li></ul></li><li class="list__item" id="knskv7_34"><p>The host sends a DHCPv6 SOLICIT message </p><ul class="list _bullet" id="knskv7_35"><li class="list__item" id="knskv7_36"><p>Klient potřebuje naj&iacute;t DHCPv6 server t&iacute;m p&aacute;dem pos&iacute;l&aacute; DHCPv6 SOLICIT na rezervovanou IPv6 multicast all DHCPv6 server address ff02::1::2. Router nebude pos&iacute;lat message do jin&eacute; s&iacute;tě protože m&aacute; local-link scope.</p></li></ul></li><li class="list__item" id="knskv7_37"><p>The DHCPv6 server respons with an ADVERTISE message. </p><ul class="list _bullet" id="knskv7_38"><li class="list__item" id="knskv7_39"><p>Jeden nebo v&iacute;ce server odpov&iacute; s DHCPv6 ADVERTISE unicast message, kter&aacute; informuje klienta že server je dostupn&yacute; pro DHCPv6 service.</p></li></ul></li><li class="list__item" id="knskv7_40"><p>The host responds to the DHCPv6 server </p><ul class="list _bullet" id="knskv7_41"><li class="list__item" id="knskv7_42"><p>Stateless DHCPv6 client - Klient si vytvoř&iacute; IPv6 adresu za pomoc&iacute; prefix z RA a self generated interface ID. Client po&scaron;le DHCPv6 INFORMATION-REQUEST message DHCPv6 serveru ž&aacute;daj&iacute;c&iacute; dodatečn&eacute; informace (DNS server apod.)</p></li><li class="list__item" id="knskv7_43"><p>Stateful DHCPv6 client - Klient po&scaron;le DHCPv6 REQUEST message DHCPv6 serveru za &uacute;čelem obdržen&iacute; v&scaron;ech potřebn&yacute;ch IPv6 konfiguračn&iacute;ch parametrů.</p></li></ul></li><li class="list__item" id="knskv7_44"><p>The DHCPv6 server sends a REPLY message. </p><ul class="list _bullet" id="knskv7_45"><li class="list__item" id="knskv7_46"><p>Server pos&iacute;l&aacute; DHCPv6 REPLY unicast message klientovy. Obsah zpr&aacute;vy z&aacute;lež&iacute; na tom jestli odpov&iacute;d&aacute; na REQUEST nebo INFORMATION-REQUEST zpr&aacute;vu.</p></li></ul></li></ul><figure id="knskv7_47"><img alt="DHCPV6.PNG" src="images/DHCPV6.PNG" title="DHCPV6.PNG" width="872" height="641"></figure></section><section class="chapter"><h3 id="konfigurace" data-toc="konfigurace">Konfigurace</h3><section class="chapter"><h4 id="nastaven-ipv6-adresy-na-dan-m-interface-m-eme-ov-it" data-toc="nastaven-ipv6-adresy-na-dan-m-interface-m-eme-ov-it">Nastaven&iacute; IPv6 adresy na dan&eacute;m interface můžeme ověřit:</h4><ul class="list _bullet" id="knskv7_48"><li class="list__item" id="knskv7_49"><p><code class="code" id="knskv7_50">R1# show ipv6 interface G0/0/1</code></p></li></ul></section><section class="chapter"><h4 id="povoleni-slaac" data-toc="povoleni-slaac">Povoleni SLAAC</h4><ul class="list _bullet" id="knskv7_51"><li class="list__item" id="knskv7_52"><p><code class="code" id="knskv7_53">R1(config)# ipv6 unicast-routing</code>-&gt; SLAAC byl povolen</p></li></ul></section><section class="chapter"><h4 id="povoleni-stateless-dhcpv6" data-toc="povoleni-stateless-dhcpv6">Povoleni stateless DHCPv6</h4><ul class="list _bullet" id="knskv7_54"><li class="list__item" id="knskv7_55"><p><code class="code" id="knskv7_56">R1(config-if)#ipv6 nd other-config-flag</code>-&gt; nastaveni O na 1</p></li></ul></section><section class="chapter"><h4 id="povoleni-stateful-dhcpv6" data-toc="povoleni-stateful-dhcpv6">Povoleni stateful DHCPv6</h4><div class="code-block" data-lang="bash">
R1(config)# int g0/0/1 
R1(config-if)# ipv6 nd managed-config-flag =&gt; nastavení M na 1 povolení Stateful
R1(config-if)# ipv6 nd prefix default no-autoconfig =&gt; nastaveni A na 0 zakázání SLAAC
</div></section><section class="chapter"><h4 id="stateless-dhcpv6-server" data-toc="stateless-dhcpv6-server">Stateless DHCPv6 server</h4><div class="code-block" data-lang="bash">
R1(config)# ipv6 unicast-routing
R1(config)# ipv6 dhcp pool IPV6-STATELESS 
R1(config-dhcpv6)# dns-server 2001:db8:acad:1::254 
R1(config-dhcpv6)# domain-name example.com 
R1(config-dhcpv6)# exit 
R1(config)#
R1(config)# interface GigabitEthernet0/0/1 
R1(config-if)# description Link to LAN 
R1(config-if)# ipv6 address fe80::1 link-local 
R1(config-if)# ipv6 address 2001:db8:acad:1::1/64 
R1(config-if)# ipv6 nd other-config-flag 
R1(config-if)# ipv6 dhcp server IPV6-STATELESS 
R1(config-if)# no shut 
</div></section><section class="chapter"><h4 id="stateless-dhcpv6-client" data-toc="stateless-dhcpv6-client">Stateless DHCPv6 client</h4><div class="code-block" data-lang="bash">
R3(config)# ipv6 unicast-routing
R3(config)# interface g0/0/1 
R3(config-if)# ipv6 enable
R3(config-if)# ipv6 address autoconfig 
</div><figure id="knskv7_60"><img alt="stateless-dhcpv6.png" src="images/stateless-dhcpv6.png" title="stateless-dhcpv6.png" width="868" height="484"></figure></section><section class="chapter"><h4 id="stateful-dhcpv6-server" data-toc="stateful-dhcpv6-server">Stateful DHCPv6 server</h4><div class="code-block" data-lang="bash">
R1(config)# ipv6 unicast-routing
R1(config)# ipv6 dhcp pool IPV6-STATEFUL
R1(config-dhcpv6)# address prefix 2001:db8:acad:1::/64 
R1(config-dhcpv6)# dns-server 2001:4860:4860::8888 
R1(config-dhcpv6)# domain-name example.com
R1(config)# interface GigabitEthernet0/0/1 
R1(config-if)# description Link to LAN 
R1(config-if)# ipv6 address fe80::1 link-local 
R1(config-if)# ipv6 address 2001:db8:acad:1::1/64 
R1(config-if)# ipv6 nd managed-config-flag 
R1(config-if)# ipv6 nd prefix default no-autoconfig 
R1(config-if)# ipv6 dhcp server IPV6-STATEFUL 
</div></section><section class="chapter"><h4 id="stateful-dhcpv6-client" data-toc="stateful-dhcpv6-client">Stateful DHCPv6 client</h4><div class="code-block" data-lang="bash">
R3(config)# ipv6 unicast-routing
R3(config)# interface g0/0/1 
R3(config-if)# ipv6 enable
R3(config-if)# ipv6 address dhcp 
</div><figure id="knskv7_63"><img alt="stateful-dhcpv6.png" src="images/stateful-dhcpv6.png" title="stateful-dhcpv6.png" width="869" height="363"></figure></section></section></section><div class="last-modified">Last modified: 16 May 2024</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="dhcp4-funkce-možnosti-konfigurace-rozsahy-ip-adres-dle-mac-adresy-použití.html" class="navigation-links__prev">DHCP4 - funkce, možnosti konfigurace (rozsahy IP adres, dle MAC adresy), použit&iacute;</a><a href="dns-funkce-hierarchie-dns-od-souboru-po-globální-dns-servery-konfigurace.html" class="navigation-links__next">DNS, funkce, hierarchie DNS (od souboru po glob&aacute;ln&iacute; DNS servery), konfigurace</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b259/app.js"></script></body></html>