<!DOCTYPE html SYSTEM "about:legacy-compat">
<html lang="en-US" data-preset="contrast" data-primary-color="#307FFF"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="UTF-8"><meta name="robots" content="noindex"><meta name="built-on" content="2024-05-12T03:58:30.1259974"><title>1. Adresov&aacute;n&iacute; a spr&aacute;va paměti - Garbage collecting, Reference/ukazatele, Struktura paměti programu | Maturita</title><script type="application/json" id="virtual-toc-data">[{"id":"method-area","level":0,"title":"Method area","anchor":"#method-area"},{"id":"string-pool","level":0,"title":"String pool","anchor":"#string-pool"},{"id":"heap-space","level":0,"title":"Heap space","anchor":"#heap-space"},{"id":"permgen","level":0,"title":"PermGen","anchor":"#permgen"},{"id":"native-method-stack","level":0,"title":"Native Method Stack","anchor":"#native-method-stack"},{"id":"metaspace","level":0,"title":"Metaspace","anchor":"#metaspace"},{"id":"stack-memory","level":0,"title":"Stack memory","anchor":"#stack-memory"},{"id":"registry","level":0,"title":"Registry","anchor":"#registry"},{"id":"garbage-collecting","level":0,"title":"Garbage collecting","anchor":"#garbage-collecting"},{"id":"reference-a-pointery","level":0,"title":"Reference a pointery","anchor":"#reference-a-pointery"},{"id":"referen-n-prom-nn","level":0,"title":"Referenční proměnné","anchor":"#referen-n-prom-nn"}]</script><script type="application/json" id="topic-shortcuts"></script><link href="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b259/app.css" rel="stylesheet"><meta name="msapplication-TileColor" content="#000000"><link rel="apple-touch-icon" sizes="180x180" href="https://jetbrains.com/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="https://jetbrains.com/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="https://jetbrains.com/favicon-16x16.png"><meta name="msapplication-TileImage" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-144x144.png"><meta name="msapplication-square70x70logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-70x70.png"><meta name="msapplication-square150x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-150x150.png"><meta name="msapplication-wide310x150logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x150.png"><meta name="msapplication-square310x310logo" content="https://resources.jetbrains.com/storage/ui/favicons/mstile-310x310.png"><meta name="image" content=""><!-- Open Graph --><meta property="og:title" content="1. Adresov&aacute;n&iacute; a spr&aacute;va paměti - Garbage collecting, Reference/ukazatele, Struktura paměti programu | Maturita"><meta property="og:description" content=""><meta property="og:image" content=""><meta property="og:site_name" content="Maturita Help"><meta property="og:type" content="website"><meta property="og:locale" content="en_US"><meta property="og:url" content="writerside-documentation//20.24/adresovani.html"><!-- End Open Graph --><!-- Twitter Card --><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content=""><meta name="twitter:title" content="1. Adresov&aacute;n&iacute; a spr&aacute;va paměti - Garbage collecting, Reference/ukazatele, Struktura paměti programu | Maturita"><meta name="twitter:description" content=""><meta name="twitter:creator" content=""><meta name="twitter:image:src" content=""><!-- End Twitter Card --><!-- Schema.org WebPage --><script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": "WebPage",
    "@id": "writerside-documentation//20.24/adresovani.html#webpage",
    "url": "writerside-documentation//20.24/adresovani.html",
    "name": "1. Adresov&aacute;n&iacute; a spr&aacute;va paměti - Garbage collecting, Reference/ukazatele, Struktura paměti programu | Maturita",
    "description": "",
    "image": "",
    "inLanguage":"en-US"
}</script><!-- End Schema.org --><!-- Schema.org WebSite --><script type="application/ld+json">{
    "@type": "WebSite",
    "@id": "writerside-documentation/#website",
    "url": "writerside-documentation/",
    "name": "Maturita Help"
}</script><!-- End Schema.org --></head><body data-id="Adresovani" data-main-title="1. Adresování a správa paměti - Garbage collecting, Reference/ukazatele, Struktura paměti programu" data-article-props="{&quot;seeAlsoStyle&quot;:&quot;links&quot;}" data-template="article" data-breadcrumbs="Questions-PV.md|PV"><div class="wrapper"><main class="panel _main"><header class="panel__header"><div class="container"><h3>Maturita 20.24 Help</h3><div class="panel-trigger"></div></div></header><section class="panel__content"><div class="container"><article class="article" data-shortcut-switcher="inactive"><h1 data-toc="Adresovani" id="Adresovani.md">1. Adresování a správa paměti - Garbage collecting, Reference/ukazatele, Struktura paměti programu</h1><ul class="list _bullet" id="-juu39h_772"><li class="list__item" id="-juu39h_773"><p>V Javě se o spr&aacute;vu paměti starat nemus&iacute;me, protože se o ni star&aacute; garbage collector. V C# se o spr&aacute;vu paměti star&aacute; garbage collector, ale můžeme si s n&iacute;m pomoci.</p></li><li class="list__item" id="-juu39h_774"><p>Java funguje na principu z&aacute;sobn&iacute;ku (Stack memory)</p></li></ul><p id="-juu39h_775"><img alt="Stack memory" src="https://miro.medium.com/v2/resize:fit:717/1*sG2wIZg7SqyhKMKD1jxM9A.png" class="inline-icon-" title="Stack memory" id="-juu39h_776"> <img alt="Heap memory" src="https://journaldev.nyc3.cdn.digitaloceanspaces.com/2014/05/Java-Memory-Model.png" class="inline-icon-" title="Heap memory" id="-juu39h_777"></p><section class="chapter"><h2 id="method-area" data-toc="method-area">Method area</h2><ul class="list _bullet" id="-juu39h_778"><li class="list__item" id="-juu39h_779"><p>Č&aacute;st paměti, ve kter&eacute; se ukl&aacute;daj&iacute; informace o tr&iacute;d&aacute;ch, metod&aacute;ch a interfacech</p></li><li class="list__item" id="-juu39h_780"><p>Jsou odtud tr&iacute;dy nač&iacute;t&aacute;ny</p></li><li class="list__item" id="-juu39h_781"><p>Nach&aacute;z&iacute; se zde binary code tř&iacute;d, statick&eacute; a glob&aacute;ln&iacute; proměnn&eacute;...</p></li></ul></section><section class="chapter"><h2 id="string-pool" data-toc="string-pool">String pool</h2><ul class="list _bullet" id="-juu39h_782"><li class="list__item" id="-juu39h_783"><p>M&iacute;sto, na kter&eacute;m se ukl&aacute;daj&iacute; <code class="code" id="-juu39h_784">String</code>, kter&eacute; jsou vytvořeny pomoc&iacute; <code class="code" id="-juu39h_785">new</code></p></li><li class="list__item" id="-juu39h_786"><p>Pokud jsou vytvořeny dva stringy se stejn&yacute;m obsahem, tak se ulož&iacute; pouze jeden string a druh&yacute; bude ukazovat na něj</p></li></ul><div class="code-block" data-lang="java">
String s1 = &quot;Hello&quot;; // vytvoří se string literal
String s1 = &quot;Hello&quot;; __ // s1 bude ukazovat na stejný string
</div></section><section class="chapter"><h2 id="heap-space" data-toc="heap-space">Heap space</h2><ul class="list _bullet" id="-juu39h_788"><li class="list__item" id="-juu39h_789"><p>Zab&iacute;r&aacute; největ&scaron;&iacute; č&aacute;st RAMky</p></li><li class="list__item" id="-juu39h_790"><p>Ukl&aacute;daj&iacute; se zde v&scaron;echny objekty, kter&eacute; se během v&yacute;voje vytv&aacute;řej&iacute;</p></li><li class="list__item" id="-juu39h_791"><p>Děl&iacute; se na v&iacute;ce č&aacute;st&iacute;, přesouv&aacute; objekty mezi nimi </p><ul class="list _bullet" id="-juu39h_792"><li class="list__item" id="-juu39h_793"><p>Young generation</p></li><li class="list__item" id="-juu39h_794"><p>Old generation</p></li></ul></li></ul><section class="chapter"><h3 id="young-generation" data-toc="young-generation">Young generation</h3><ul class="list _bullet" id="-juu39h_795"><li class="list__item" id="-juu39h_796"><p>Dvě č&aacute;sti: </p><ul class="list _bullet" id="-juu39h_797"><li class="list__item" id="-juu39h_798"><p>Eden space</p></li><li class="list__item" id="-juu39h_799"><p>Survivor space</p></li></ul></li><li class="list__item" id="-juu39h_800"><p>V&scaron;echny nově vytvořen&eacute; objekty se ukl&aacute;daj&iacute; do Eden space</p></li><li class="list__item" id="-juu39h_801"><p>Pokud je Eden space pln&yacute;, proběhne GC, pokud je objekt použ&iacute;v&aacute;m dlouho, přesune se do Old generation</p></li><li class="list__item" id="-juu39h_802"><p>V survivor space se ukl&aacute;daj&iacute; objekty, kter&eacute; přežily Minor GC</p></li></ul></section><section class="chapter"><h3 id="old-generation" data-toc="old-generation">Old generation</h3><ul class="list _bullet" id="-juu39h_803"><li class="list__item" id="-juu39h_804"><p>Obsahuje dlouho žij&iacute;c&iacute; objekty, kter&eacute; přežily několik GC</p></li><li class="list__item" id="-juu39h_805"><p>Pokud je Old generation pln&yacute;, proběhne Major GC</p></li></ul></section></section><section class="chapter"><h2 id="permgen" data-toc="permgen">PermGen</h2><ul class="list _bullet" id="-juu39h_806"><li class="list__item" id="-juu39h_807"><p>Uchov&aacute;v&aacute; informace o metadatech, kter&eacute; JVM vyžaduje k opisu tř&iacute;d a metod</p></li><li class="list__item" id="-juu39h_808"><p>Př&iacute;kladem je např&iacute;klad deklarace tř&iacute;dy, metody...</p></li><li class="list__item" id="-juu39h_809"><p>PermGe je souč&aacute;st&iacute; Heapu</p></li></ul></section><section class="chapter"><h2 id="native-method-stack" data-toc="native-method-stack">Native Method Stack</h2><ul class="list _bullet" id="-juu39h_810"><li class="list__item" id="-juu39h_811"><p>Zaměřuje se na spu&scaron;těn&iacute; programu, kter&eacute; jsou ps&aacute;n&yacute; v jin&yacute;ch jazyc&iacute;ch než Java</p></li><li class="list__item" id="-juu39h_812"><p>Oddělen od jin&yacute;ch stacků</p></li></ul></section><section class="chapter"><h2 id="metaspace" data-toc="metaspace">Metaspace</h2><ul class="list _bullet" id="-juu39h_813"><li class="list__item" id="-juu39h_814"><p>Nem&aacute; vrchn&iacute; limit, m&aacute; se vyvarovat OutOfMemoryError</p></li><li class="list__item" id="-juu39h_815"><p>Pokud přeroste v&iacute;ce než na&scaron;e RAMka, tak použije virtu&aacute;ln&iacute; paměť</p></li></ul></section><section class="chapter"><h2 id="stack-memory" data-toc="stack-memory">Stack memory</h2><ul class="list _bullet" id="-juu39h_816"><li class="list__item" id="-juu39h_817"><p>princip LIFO</p></li><li class="list__item" id="-juu39h_818"><p>Ukl&aacute;daj&iacute; se frames, kter&eacute; obsahuj&iacute; informace při spu&scaron;těn&iacute; metody -&gt; parametry o lok&aacute;ln&iacute; proměnn&eacute;</p></li><li class="list__item" id="-juu39h_819"><p>Reference na objekty na Heapu a tak&eacute; primitivn&iacute; proměnn&eacute; (int, char, boolean...)</p></li></ul></section><section class="chapter"><h2 id="registry" data-toc="registry">Registry</h2><ul class="list _bullet" id="-juu39h_820"><li class="list__item" id="-juu39h_821"><p>Ukl&aacute;d&aacute;n&iacute; adres instrukce, kter&aacute; se aktu&aacute;lně prov&aacute;d&iacute;</p></li><li class="list__item" id="-juu39h_822"><p>Instrukce je př&iacute;kaz pro procesor , uchov&aacute;v&aacute; kvůli spr&aacute;vn&eacute;mu pořad&iacute;</p></li><li class="list__item" id="-juu39h_823"><p>Ře&scaron;&iacute; i v&yacute;jimky, neboť ukazuj&iacute; na posledn&iacute; instrukci, kter&aacute; byla provedena</p></li></ul></section><section class="chapter"><h2 id="garbage-collecting" data-toc="garbage-collecting">Garbage collecting</h2><ul class="list _bullet" id="-juu39h_824"><li class="list__item" id="-juu39h_825"><p id="-juu39h_826">Proces, ve kter&eacute;m se zbavujeme nepotřebn&yacute;ch dat v paměti</p></li><li class="list__item" id="-juu39h_827"><p id="-juu39h_828">Java m&aacute; automatick&yacute; garbage collector, kter&yacute; se star&aacute; o spr&aacute;vu paměti</p></li><li class="list__item" id="-juu39h_829"><p id="-juu39h_830">Nepouž&iacute;van&eacute; objekty jsou označeny a smaz&aacute;ny -&gt; Nem&aacute; na sobě ž&aacute;dn&eacute; reference</p></li><li class="list__item" id="-juu39h_831"><p id="-juu39h_832">Použ&iacute;vanž objekt -&gt; m&aacute; na sobě reference</p></li><li class="list__item" id="-juu39h_833"><p id="-juu39h_834">Děl&iacute; se na:</p><ul class="list _bullet" id="-juu39h_835"><li class="list__item" id="-juu39h_836"><p>Minor GC</p></li><li class="list__item" id="-juu39h_837"><p>Major GC</p></li></ul></li></ul><section class="chapter"><h3 id="minor-gc" data-toc="minor-gc">Minor GC</h3><ul class="list _bullet" id="-juu39h_838"><li class="list__item" id="-juu39h_839"><p>Prob&iacute;h&aacute; v Young generation</p></li><li class="list__item" id="-juu39h_840"><p>Proběhne když je odebr&aacute;n nepouž&iacute;van&yacute; objekt nebo je pamět pln&aacute;</p></li></ul><p id="-juu39h_841"><span class="control" id="-juu39h_842">Př&iacute;klad:</span></p><div class="code-block" data-lang="java">
public class GCExample {
    public static void main(String[] args) {
    Integer i1 = new Integer(10);
        i = null;
    }
}
</div></section><section class="chapter"><h3 id="major-gc" data-toc="major-gc">Major GC</h3><ul class="list _bullet" id="-juu39h_844"><li class="list__item" id="-juu39h_845"><p>Prob&iacute;h&aacute; v Old generation</p></li><li class="list__item" id="-juu39h_846"><p>St&aacute;v&aacute; se když přežij&iacute; Minor GC a jsou zkop&iacute;rov&aacute;ny do Old generation</p></li><li class="list__item" id="-juu39h_847"><p>Trv&aacute; d&eacute;le než Minor GC</p></li></ul><p id="-juu39h_848"><span class="control" id="-juu39h_849">Př&iacute;klad:</span></p><div class="code-block" data-lang="java">
public class GCExample {
    public static void main(String[] args) {
    System.gc();
    Runtime.getRuntime().gc();
    }
}
</div></section><section class="chapter"><h3 id="jak-prob-h-gc" data-toc="jak-prob-h-gc">Jak prob&iacute;h&aacute; GC</h3><ul class="list _bullet" id="-juu39h_851"><li class="list__item" id="-juu39h_852"><p>GC se vol&aacute; když je pamět v Eden space pln&aacute;</p></li><li class="list__item" id="-juu39h_853"><p>Použ&iacute;v&aacute; se na prvky, kter&eacute; nemaj&iacute; referenci</p></li><li class="list__item" id="-juu39h_854"><p>Pokud maj&iacute; referenci, přesunou se do S0</p></li><li class="list__item" id="-juu39h_855"><p>Při dal&scaron;&iacute;m GC se stane to sam&eacute;, ale v&scaron;echny prvky, kter&eacute; maj&iacute; referenci se přesunou do S1</p></li><li class="list__item" id="-juu39h_856"><p>Přesunou se i ty, kter&eacute; jsou v S0 a smaže se cel&aacute; S0</p></li><li class="list__item" id="-juu39h_857"><p>Pokud prvky preskoč&iacute; 8kr&aacute;t, přesouvaj&iacute; se do Old generation</p></li></ul></section></section><section class="chapter"><h2 id="reference-a-pointery" data-toc="reference-a-pointery">Reference a pointery</h2><ul class="list _bullet" id="-juu39h_858"><li class="list__item" id="-juu39h_859"><p>Reference je adresa, kter&aacute; odkazuje, kde je metoda, objekt nebo proměnn&aacute; v paměti uchov&aacute;na</p></li><li class="list__item" id="-juu39h_860"><p>Pointer je to v Javě to sam&eacute;</p></li><li class="list__item" id="-juu39h_861"><p>Pokud vytvoř&iacute;me objekt, uděl&aacute; se n&aacute;m v Heap paměti m&iacute;sto, ke kter&eacute;mu ukazuje reference</p></li></ul></section><section class="chapter"><h2 id="referen-n-prom-nn" data-toc="referen-n-prom-nn">Referenčn&iacute; proměnn&eacute;</h2><ul class="list _bullet" id="-juu39h_862"><li class="list__item" id="-juu39h_863"><p>Použ&iacute;vaj&iacute; se k z&iacute;skan&iacute; objektu či hodnot</p></li><li class="list__item" id="-juu39h_864"><p>Pokud vytv&aacute;ř&iacute;me instanci objektu, tak sama instance je referenčn&iacute; proměnn&aacute;, ukazuje na m&iacute;sto v paměti kde je uchov&aacute;n</p></li><li class="list__item" id="-juu39h_865"><p>Reference jsou ukl&aacute;d&aacute;ny na Stacku</p></li></ul><p id="-juu39h_866"><span class="control" id="-juu39h_867">Př&iacute;klad:</span></p><div class="code-block" data-lang="java">
public class ReferenceExample {
    public static void main(String[] args) {
        TestTrida t1 = new TestTrida(); // t1 je referenční proměnná
    }
}
</div></section><div class="last-modified">Last modified: 12 May 2024</div><div data-feedback-placeholder="true"></div><div class="navigation-links _bottom"><a href="questions-pv.html" class="navigation-links__prev">PV</a><a href="algorithms1.html" class="navigation-links__next">2. Algoritmizace - Grafy, Prohl&eacute;d&aacute;v&aacute;n&iacute; stavov&eacute;ho prostoru, Řazen&iacute;</a></div></article><div id="disqus_thread"></div></div></section></main></div><script src="https://resources.jetbrains.com/writerside/apidoc/6.10.0-b259/app.js"></script></body></html>